#### 8-7 [457. Circular Array Loop](https://leetcode-cn.com/problems/circular-array-loop/)

> You are playing a game involving a circular array of non-zero integers nums. Each nums[i] denotes the number of indices forward/backward you must move if you are located at index i:
>
> If nums[i] is positive, move nums[i] steps forward, and
> If nums[i] is negative, move nums[i] steps backward.
> Since the array is circular, you may assume that moving forward from the last element puts you on the first element, and moving backwards from the first element puts you on the last element.
>
> A cycle in the array consists of a sequence of indices seq of length k where:
>
> Following the movement rules above results in the repeating index sequence seq[0] -> seq[1] -> ... -> seq[k - 1] -> seq[0] -> ...
> Every nums[seq[j]] is either all positive or all negative.
> k > 1
> Return true if there is a cycle in nums, or false otherwise.

```
class Solution {
public:
    bool circularArrayLoop(vector<int>& nums) {
        if(nums.size()<2) return false;
        int slow,fast,n=nums.size();
        auto next=[&](int x)->int{
            return ((x+nums[x])%n+n)%n;
        };
        for(int i=0;i<n;i++){
            slow=i;
            fast=next(slow);
            cout<<slow<<"???"<<fast<<endl;
            while(nums[slow]*nums[fast]>0&&nums[slow]*nums[next(slow)]>0){
                cout<<slow<<"II"<<fast<<endl;
                if(slow==fast){
                    cout<<slow<<endl;
                    if(slow!=next(slow)){
                        return true;
                    }
                    break;
                }
                slow=next(slow);
                fast=next(next(fast));
            }
            int temp=i;
            while(nums[temp]*nums[next(temp)]>0){
                int net=next(temp);
                nums[temp]=0;
                temp=net;
            }
        }
        return false;
    }
};
```

```

```

#### 8-8 [1137. N-th Tribonacci Number](https://leetcode-cn.com/problems/n-th-tribonacci-number/)

> The Tribonacci sequence Tn is defined as follows: 
>
> T0 = 0, T1 = 1, T2 = 1, and Tn+3 = Tn + Tn+1 + Tn+2 for n >= 0.
>
> Given n, return the value of Tn.

```c++
class Solution {
public:
    int tribonacci(int n) {
        if(n==0) return n;
        if(n==1||n==2) return 1;
        return tribonacci(n-1)+tribonacci(n-2)+tribonacci(n-3);
    }
};
```

```c++
class Solution {
public:
    int tribonacci(int n) {
        if(n<2) return n;
        vector<int> dp(n+1);
        dp[0]=0;
        dp[1]=dp[2]=1;
        for(int i=3;i<=n;i++){
            dp[i]=dp[i-1]+dp[i-2]+dp[i-3];
        }
        return dp[n];
    }
};
```

```c++
class Solution {
public:
    int tribonacci(int n) {
        if(n<2) return n;
        int p,q,r;
        p=0;
        q=r=1;
        for(int i=3;i<=n;i++){
            int temp=p+q+r;
            p=q;
            q=r;
            r=temp;
        }
        return r;
    }
};
```

#### 8-9 [313. Super Ugly Number](https://leetcode-cn.com/problems/super-ugly-number/)

> A super ugly number is a positive integer whose prime factors are in the array primes.
>
> Given an integer n and an array of integers primes, return the nth super ugly number.
>
> The nth super ugly number is guaranteed to fit in a 32-bit signed integer.

```c++
class Solution {
public:
    int nthSuperUglyNumber(int n, vector<int>& primes) {
        set<long> duplicate;
        priority_queue<long,vector<long>,greater<long>> q;
        int i,j;
        q.push(1);
        duplicate.insert(1);
        for(i=0;i<n-1;i++){
            long k=q.top();
            q.pop();
            for(j=0;j<primes.size();j++){
                if(!duplicate.count(primes[j]*k)){
                    q.push(primes[j]*k);
                    duplicate.insert(primes[j]*k);
                }    
            }
        }
        return q.top();
    }
};
```

#### 8-10 [413. Arithmetic Slices](https://leetcode-cn.com/problems/arithmetic-slices/)

> An integer array is called arithmetic if it consists of at least three elements and if the difference between any two consecutive elements is the same.
>
> For example, [1,3,5,7,9], [7,7,7,7], and [3,-1,-5,-9] are arithmetic sequences.
> Given an integer array nums, return the number of arithmetic subarrays of nums.
>
> A subarray is a contiguous subsequence of the array.
>

```c++
class Solution {
public:
    unordered_map<int,int> record;
    int calculate(int n){
        if(n<3) return 0;
        if(record[n]) return record[n];
        int sum=0;
        // Cn3+Cn4+...+Cnn
        for(int i=3;i<=n;i++){
            sum+=n-i+1;
        }
        record[n]=sum;
        return sum;
    }
    int numberOfArithmeticSlices(vector<int>& nums) {
        if(nums.size()<3) return 0;
        int i,j,res=0;
        i=0,j=1;
        while(j<nums.size()){
            int minus=nums[j]-nums[j-1];
            j++;
            while(j<nums.size()&&minus==nums[j]-nums[j-1]){
                j++;
            }
            if(j-i>2){
                res+=calculate(j-i);
                i=j-1;
            }else{
                i++;
                j=i+1;
            }
        }
        return res;
    }
};
```

